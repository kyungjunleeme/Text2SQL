<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Text2SQL Report</title>
  <style>
    :root {
      --bg: #0b0f14;
      --panel: #0f172a;
      --card: #111827;
      --text: #e5e7eb;
      --muted: #94a3b8;
      --accent: #22d3ee;
      --border: #1f2937;
      --ok: #10b981;
      --warn: #f59e0b;
      --err: #ef4444;
    }
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font: 16px/1.6 system-ui, -apple-system, Segoe UI, Roboto, 'Noto Sans KR', Arial, 'Apple SD Gothic Neo', '맑은 고딕', sans-serif;
      color: var(--text);
      background: radial-gradient(1200px 600px at 50% -10%, #0f172a 0, var(--bg) 60%);
    }

    /* 가운데 정렬 + 반응형 폭 */
    .container {
      width: min(1100px, 100% - 2rem);
      margin: 32px auto;
    }

    header {
      text-align: center;
      margin-bottom: 24px;
    }
    header h1 {
      margin: 0 0 6px;
      font-size: clamp(20px, 3vw, 32px);
      letter-spacing: .2px;
    }
    header p {
      margin: 0;
      color: var(--muted);
      font-size: 14px;
    }

    /* 카드 & 그리드 레이아웃 */
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 16px;
    }
    .card {
      background: linear-gradient(180deg, var(--panel), var(--card));
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 16px 18px;
      box-shadow: 0 10px 24px rgba(0,0,0,.25), inset 0 1px 0 rgba(255,255,255,.02);
    }
    .card h2 {
      margin: 0 0 10px;
      font-size: clamp(16px, 2.2vw, 20px);
    }

    /* 표: 모바일 스크롤 대응 */
    .table-wrap { overflow-x: auto; }
    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 14px;
      background: var(--panel);
      border: 1px solid var(--border);
      border-radius: 12px;
    }
    th, td {
      padding: 10px 12px;
      border-bottom: 1px solid var(--border);
      text-align: left;
      white-space: nowrap;
      vertical-align: top;
    }
    thead th {
      position: sticky;
      top: 0;
      background: #0b1220;
      z-index: 1;
    }

    /* 코드 블록 */
    pre, code {
      font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
      font-size: 13px;
    }
    pre {
      margin: 0;
      padding: 12px;
      background: #0b1220;
      border: 1px solid var(--border);
      border-radius: 12px;
      overflow: auto;
    }

    .pill {
      display: inline-block;
      padding: 4px 8px;
      border-radius: 999px;
      border: 1px solid var(--border);
      color: var(--muted);
      font-size: 12px;
    }

    .badge {
      display: inline-block;
      padding: 2px 8px;
      border-radius: 999px;
      font-size: 12px;
      line-height: 20px;
      border: 1px solid var(--border);
      color: #fff;
    }
    .ok  { background: rgba(16,185,129,.15); border-color: rgba(16,185,129,.35); color: #a7f3d0; }
    .err { background: rgba(239,68,68,.15);  border-color: rgba(239,68,68,.35); color: #fecaca; }

    a { color: var(--accent); text-decoration: none; }
    a:hover { text-decoration: underline; }

    footer {
      margin: 24px 0 8px;
      text-align: center;
      color: var(--muted);
      font-size: 12px;
    }

    @media (max-width: 520px) {
      th, td { padding: 8px 10px; }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>Text2SQL Report</h1>
      <p>Text2SQL Evaluation Dashboard</p>
    </header>
    
<div class="grid">
  <div class="card">
    <h2>Summary</h2>
    
<div class="table-wrap">
<table>
  <thead><tr><th>Report</th><th>Passed</th><th>Pass Rate</th></tr></thead>
  <tbody>
    <tr><td>nyc_duckdb_report.json</td><td>2/5</td><td>40.0%</td></tr>
<tr><td>sqlite_report.json</td><td>2/2</td><td>100.0%</td></tr>
  </tbody>
</table>
</div>

  </div>
  <div class="card">
    <h2>Artifacts</h2>
    <ul><li><a href='../out/nyc_duckdb_report.json' target='_blank' rel='noopener'>nyc_duckdb_report.json</a></li>
<li><a href='../out/sqlite_report.json' target='_blank' rel='noopener'>sqlite_report.json</a></li></ul>
  </div>
</div>

<div class="card" style="margin-top:16px;">
  <h2>nyc_duckdb_report.json</h2>
  
<div class="table-wrap">
<table>
  <thead>
    <tr><th>ID</th><th>Question</th><th>Pred SQL</th><th>Metrics</th></tr>
  </thead>
  <tbody>
    <tr><td style='min-width:80px'>q1<br/><span class='badge err'>FAIL</span></td><td style='min-width:260px'>픽업 동네별(nyc.trips_small.pickup_ntaname) 트립 수 Top 10</td><td><pre>SELECT pickup_ntaname, COUNT(*) AS cnt FROM nyc.trips_small WHERE pickup_ntaname IS NOT NULL AND pickup_ntaname &lt;&gt; &#x27;&#x27; GROUP BY 1 ORDER BY cnt DESC;</pre></td><td><span class='badge ok' title='ok'>executable_sql: 1.0 / 1.0</span> <span class='badge err' title='mismatch(all candidates)'>execution_accuracy: 0.0 / 1.0</span> <span class='badge err' title='different'>semantic_match_sql: 0.0 / 1.0</span> <span class='badge ok' title='weighted jaccard; best=0.950'>component_match_sql: 0.9500000000000001 / 0.85</span></td></tr><tr><td style='min-width:80px'>q2<br/><span class='badge err'>FAIL</span></td><td style='min-width:260px'>승객 수(passenger_count)별 평균 total_amount를 내림차순</td><td><pre>SELECT passenger_count, AVG(total_amount) AS avg_total, COUNT(*) AS cnt FROM nyc.trips_small WHERE passenger_count IS NOT NULL  GROUP BY  1 ORDER BY cnt DESC;</pre></td><td><span class='badge ok' title='ok'>executable_sql: 1.0 / 1.0</span> <span class='badge err' title='mismatch(all candidates)'>execution_accuracy: 0.0 / 1.0</span> <span class='badge err' title='different'>semantic_match_sql: 0.0 / 1.0</span> <span class='badge err' title='weighted jaccard; best=0.675'>component_match_sql: 0.675 / 0.85</span></td></tr><tr><td style='min-width:80px'>q3<br/><span class='badge err'>FAIL</span></td><td style='min-width:260px'>2015년 1~3월 월별 trip_distance 합계</td><td><pre>SELECT EXTRACT(MONTH FROM pickup_datetime) AS mon, SUM(trip_distance) AS dist FROM nyc.trips_small WHERE EXTRACT(YEAR FROM pickup_datetime)=2015 AND EXTRACT(MONTH FROM pickup_datetime) IN (1,2,3) GROUP BY 1 ORDER BY cnt DESC;</pre></td><td><span class='badge err' title='exec error: Binder Error: Referenced column &quot;cnt&quot; not found in FROM clause!
Candidate bindings: &quot;pickup_ntaname&quot;, &quot;payment_type&quot;, &quot;extra&quot;

LINE 1: ...(MONTH FROM pickup_datetime) IN (1,2,3) GROUP BY 1 ORDER BY cnt DESC;
                                                                       ^'>executable_sql: 0.0 / 1.0</span> <span class='badge err' title='mismatch(all candidates)'>execution_accuracy: 0.0 / 1.0</span> <span class='badge err' title='different'>semantic_match_sql: 0.0 / 1.0</span> <span class='badge ok' title='weighted jaccard; best=0.950'>component_match_sql: 0.9500000000000001 / 0.85</span></td></tr><tr><td style='min-width:80px'>q4<br/><span class='badge ok'>PASS</span></td><td style='min-width:260px'>팁 비율(tip_amount/total_amount) 상위 20건의 pickup/dropoff 동네</td><td><pre>SELECT pickup_ntaname, dropoff_ntaname, tip_amount/NULLIF(total_amount,0) AS tip_ratio FROM nyc.trips_small WHERE total_amount &gt; 0 ORDER BY tip_ratio DESC LIMIT 20;</pre></td><td><span class='badge ok' title='ok'>executable_sql: 1.0 / 1.0</span> <span class='badge ok' title='match(candidate)'>execution_accuracy: 1.0 / 1.0</span> <span class='badge ok' title='equal(any candidate)'>semantic_match_sql: 1.0 / 1.0</span> <span class='badge ok' title='weighted jaccard; best=1.000'>component_match_sql: 1.0 / 0.85</span></td></tr><tr><td style='min-width:80px'>q5<br/><span class='badge ok'>PASS</span></td><td style='min-width:260px'>결제수단(payment_type)별 평균 total_amount와 건수</td><td><pre>SELECT payment_type, AVG(total_amount) AS avg_total, COUNT(*) AS cnt FROM nyc.trips_small WHERE payment_type IS NOT NULL AND payment_type &lt;&gt; &#x27;&#x27; GROUP BY 1 ORDER BY cnt DESC;</pre></td><td><span class='badge ok' title='ok'>executable_sql: 1.0 / 1.0</span> <span class='badge ok' title='match(candidate)'>execution_accuracy: 1.0 / 1.0</span> <span class='badge err' title='different'>semantic_match_sql: 0.0 / 1.0</span> <span class='badge err' title='weighted jaccard; best=0.800'>component_match_sql: 0.8 / 0.85</span></td></tr>
  </tbody>
</table>
</div>

</div>


<div class="card" style="margin-top:16px;">
  <h2>sqlite_report.json</h2>
  
<div class="table-wrap">
<table>
  <thead>
    <tr><th>ID</th><th>Question</th><th>Pred SQL</th><th>Metrics</th></tr>
  </thead>
  <tbody>
    <tr><td style='min-width:80px'>q1<br/><span class='badge ok'>PASS</span></td><td style='min-width:260px'>부서별 직원 수를 세어 부서명 오름차순으로 보여줘</td><td><pre>SELECT d.name AS dept, COUNT(e.id) AS cnt FROM employees e JOIN departments d ON e.dept_id = d.id GROUP BY d.name ORDER BY d.name ASC</pre></td><td><span class='badge ok' title='ok'>executable_sql: 1.0 / 1.0</span> <span class='badge ok' title='match(candidate)'>execution_accuracy: 1.0 / 1.0</span> <span class='badge err' title='different'>semantic_match_sql: 0.0 / 1.0</span> <span class='badge ok' title='weighted jaccard; best=0.883'>component_match_sql: 0.8833333333333334 / 0.85</span></td></tr><tr><td style='min-width:80px'>q2<br/><span class='badge ok'>PASS</span></td><td style='min-width:260px'>각 부서의 평균 급여를 계산해 높은 순서로 보여줘</td><td><pre>SELECT d.name AS dept, AVG(e.salary) AS avg_salary FROM employees e JOIN departments d ON e.dept_id = d.id GROUP BY d.name ORDER BY avg_salary DESC</pre></td><td><span class='badge ok' title='ok'>executable_sql: 1.0 / 1.0</span> <span class='badge ok' title='match(candidate)'>execution_accuracy: 1.0 / 1.0</span> <span class='badge ok' title='equal(any candidate)'>semantic_match_sql: 1.0 / 1.0</span> <span class='badge ok' title='weighted jaccard; best=1.000'>component_match_sql: 1.0 / 0.85</span></td></tr>
  </tbody>
</table>
</div>

</div>

    <footer>Generated 2025-09-26 07:56:08 UTC</footer>
  </div>
</body>
</html>
