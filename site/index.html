<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Text2SQL – Model Comparison (llama · chatgpt · genie)</title>
<style>
:root{--bg:#0b0f14;--panel:#0f172a;--card:#0f1321;--text:#e5e7eb;--muted:#94a3b8;
--accent:#22d3ee;--border:#1f2937;--ok:#10b981;--err:#ef4444}
*{box-sizing:border-box} html,body{height:100%}
body{margin:0;background:radial-gradient(1200px 600px at 50% -10%,#0f172a 0,var(--bg) 60%);
color:var(--text);font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,'Noto Sans KR',Arial,'Apple SD Gothic Neo','맑은 고딕',sans-serif}
.container{width:min(1180px,100% - 2rem);margin:32px auto}
header{text-align:center;margin-bottom:24px}
header h1{margin:0 0 6px;font-size:clamp(20px,3vw,30px)}
header p{margin:0;color:var(--muted);font-size:14px}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:16px}
.card{background:linear-gradient(180deg,var(--panel),var(--card));border:1px solid var(--border);
border-radius:16px;padding:16px 18px;box-shadow:0 10px 24px rgba(0,0,0,.25), inset 0 1px 0 rgba(255,255,255,.02)}
.card h2{margin:0 0 10px;font-size:clamp(16px,2.2vw,20px)}
.sub{color:var(--muted);font-size:12px}
.badge{display:inline-block;padding:2px 8px;border-radius:999px;font-size:12px;line-height:20px;border:1px solid var(--border)}
.ok{background:rgba(16,185,129,.15);border-color:rgba(16,185,129,.35);color:#a7f3d0}
.err{background:rgba(239,68,68,.15);border-color:rgba(239,68,68,.35);color:#fecaca}
.pill{display:inline-block;padding:4px 8px;border-radius:999px;border:1px solid var(--border);color:var(--muted);font-size:12px}
.table-wrap{overflow-x:auto}
table{width:100%;border-collapse:collapse;font-size:14px;background:var(--panel);
border:1px solid var(--border);border-radius:12px}
th,td{padding:10px 12px;border-bottom:1px solid var(--border);text-align:left;vertical-align:top;white-space:nowrap}
thead th{position:sticky;top:0;background:#0b1220;z-index:1}
pre,code{font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,'Liberation Mono',monospace;font-size:13px}
pre{margin:0;padding:12px;background:#0b1220;border:1px solid var(--border);border-radius:12px;overflow:auto;white-space:pre-wrap}
.model-3col{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
@media (max-width:980px){.model-3col{grid-template-columns:1fr}}
.model-card{background:#0b1220;border:1px solid var(--border);border-radius:12px;padding:12px}
.model-card h3{margin:0 0 8px;font-size:14px;display:flex;align-items:center;gap:8px}
.kv{display:flex;gap:8px;flex-wrap:wrap;margin:6px 0 10px}
.kv .badge{background:#0b1220}
ul{margin:0;padding-left:18px}
footer{margin:24px 0 8px;text-align:center;color:var(--muted);font-size:12px}
</style>
</head>
<body>
  <div class="container">
    <header>
      <h1>Text2SQL – Model Comparison (llama · chatgpt · genie)</h1>
      <p class="sub">Compare LLM Text2SQL results across <b>llama</b>, <b>chatgpt</b>, <b>genie</b></p>
    </header>
    <div class='grid'><div class='card'><h2>llama</h2><div class='kv'><span class='badge'>file: nyc_llama_report.json</span><span class='badge'>passed: 2 / 5</span><span class='badge'>rate: 40.0%</span></div><div class='sub'>by metric</div><ul><li>component_match_sql: 3/5 (60.0%)</li><li>executable_sql: 4/5 (80.0%)</li><li>execution_accuracy: 2/5 (40.0%)</li><li>semantic_match_sql: 1/5 (20.0%)</li></ul></div><div class='card'><h2>chatgpt</h2><p class='pill'>No report</p></div><div class='card'><h2>genie</h2><p class='pill'>No report</p></div></div><div class='card'><h2>Artifacts</h2><ul><li><a href='out/nyc_duckdb_report.json' target='_blank' rel='noopener'>nyc_duckdb_report.json</a> <span class='pill'>other</span></li>
<li><a href='out/nyc_llama_report.json' target='_blank' rel='noopener'>nyc_llama_report.json</a> <span class='pill'>llama</span></li>
<li><a href='out/sqlite_report.json' target='_blank' rel='noopener'>sqlite_report.json</a> <span class='pill'>other</span></li></ul></div><div class='card'><div class='sub'>q1</div><h2 style='margin-top:4px'>픽업 동네별(nyc.trips_small.pickup_ntaname) 트립 수 Top 10</h2><div class='model-3col'><div class='model-card'><h3>llama <span class="badge err">FAIL</span></h3><div class='kv'><span class='badge ok' title='ok'>executable_sql: 1.0 / 1.0</span> <span class='badge err' title='mismatch(all candidates)'>execution_accuracy: 0.0 / 1.0</span> <span class='badge err' title='different'>semantic_match_sql: 0.0 / 1.0</span> <span class='badge ok' title='weighted jaccard; best=0.950'>component_match_sql: 0.9500000000000001 / 0.85</span></div><pre>SELECT pickup_ntaname, COUNT(*) AS cnt FROM nyc.trips_small WHERE pickup_ntaname IS NOT NULL AND pickup_ntaname &lt;&gt; &#x27;&#x27; GROUP BY 1 ORDER BY cnt DESC;</pre></div><div class='model-card'><h3>chatgpt</h3><div class='pill'>No result</div></div><div class='model-card'><h3>genie</h3><div class='pill'>No result</div></div></div></div>
<div class='card'><div class='sub'>q2</div><h2 style='margin-top:4px'>승객 수(passenger_count)별 평균 total_amount를 내림차순</h2><div class='model-3col'><div class='model-card'><h3>llama <span class="badge err">FAIL</span></h3><div class='kv'><span class='badge ok' title='ok'>executable_sql: 1.0 / 1.0</span> <span class='badge err' title='mismatch(all candidates)'>execution_accuracy: 0.0 / 1.0</span> <span class='badge err' title='different'>semantic_match_sql: 0.0 / 1.0</span> <span class='badge err' title='weighted jaccard; best=0.675'>component_match_sql: 0.675 / 0.85</span></div><pre>SELECT passenger_count, AVG(total_amount) AS avg_total, COUNT(*) AS cnt FROM nyc.trips_small WHERE passenger_count IS NOT NULL  GROUP BY  1 ORDER BY cnt DESC;</pre></div><div class='model-card'><h3>chatgpt</h3><div class='pill'>No result</div></div><div class='model-card'><h3>genie</h3><div class='pill'>No result</div></div></div></div>
<div class='card'><div class='sub'>q3</div><h2 style='margin-top:4px'>2015년 1~3월 월별 trip_distance 합계</h2><div class='model-3col'><div class='model-card'><h3>llama <span class="badge err">FAIL</span></h3><div class='kv'><span class='badge err' title='exec error: Binder Error: Referenced column &quot;cnt&quot; not found in FROM clause!
Candidate bindings: &quot;pickup_ntaname&quot;, &quot;payment_type&quot;, &quot;extra&quot;

LINE 1: ...(MONTH FROM pickup_datetime) IN (1,2,3) GROUP BY 1 ORDER BY cnt DESC;
                                                                       ^'>executable_sql: 0.0 / 1.0</span> <span class='badge err' title='mismatch(all candidates)'>execution_accuracy: 0.0 / 1.0</span> <span class='badge err' title='different'>semantic_match_sql: 0.0 / 1.0</span> <span class='badge ok' title='weighted jaccard; best=0.950'>component_match_sql: 0.9500000000000001 / 0.85</span></div><pre>SELECT EXTRACT(MONTH FROM pickup_datetime) AS mon, SUM(trip_distance) AS dist FROM nyc.trips_small WHERE EXTRACT(YEAR FROM pickup_datetime)=2015 AND EXTRACT(MONTH FROM pickup_datetime) IN (1,2,3) GROUP BY 1 ORDER BY cnt DESC;</pre></div><div class='model-card'><h3>chatgpt</h3><div class='pill'>No result</div></div><div class='model-card'><h3>genie</h3><div class='pill'>No result</div></div></div></div>
<div class='card'><div class='sub'>q4</div><h2 style='margin-top:4px'>팁 비율(tip_amount/total_amount) 상위 20건의 pickup/dropoff 동네</h2><div class='model-3col'><div class='model-card'><h3>llama <span class="badge ok">PASS</span></h3><div class='kv'><span class='badge ok' title='ok'>executable_sql: 1.0 / 1.0</span> <span class='badge ok' title='match(candidate)'>execution_accuracy: 1.0 / 1.0</span> <span class='badge ok' title='equal(any candidate)'>semantic_match_sql: 1.0 / 1.0</span> <span class='badge ok' title='weighted jaccard; best=1.000'>component_match_sql: 1.0 / 0.85</span></div><pre>SELECT pickup_ntaname, dropoff_ntaname, tip_amount/NULLIF(total_amount,0) AS tip_ratio FROM nyc.trips_small WHERE total_amount &gt; 0 ORDER BY tip_ratio DESC LIMIT 20;</pre></div><div class='model-card'><h3>chatgpt</h3><div class='pill'>No result</div></div><div class='model-card'><h3>genie</h3><div class='pill'>No result</div></div></div></div>
<div class='card'><div class='sub'>q5</div><h2 style='margin-top:4px'>결제수단(payment_type)별 평균 total_amount와 건수</h2><div class='model-3col'><div class='model-card'><h3>llama <span class="badge ok">PASS</span></h3><div class='kv'><span class='badge ok' title='ok'>executable_sql: 1.0 / 1.0</span> <span class='badge ok' title='match(candidate)'>execution_accuracy: 1.0 / 1.0</span> <span class='badge err' title='different'>semantic_match_sql: 0.0 / 1.0</span> <span class='badge err' title='weighted jaccard; best=0.800'>component_match_sql: 0.8 / 0.85</span></div><pre>SELECT payment_type, AVG(total_amount) AS avg_total, COUNT(*) AS cnt FROM nyc.trips_small WHERE payment_type IS NOT NULL AND payment_type &lt;&gt; &#x27;&#x27; GROUP BY 1 ORDER BY cnt DESC;</pre></div><div class='model-card'><h3>chatgpt</h3><div class='pill'>No result</div></div><div class='model-card'><h3>genie</h3><div class='pill'>No result</div></div></div></div>
    <footer>Generated 2025-09-26 08:51:24 UTC</footer>
  </div>
</body>
</html>